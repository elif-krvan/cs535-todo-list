<script>

// Stop the form resubmission on page refresh

if ( window.history.replaceState ) {

window.history.replaceState( null, null, window.location.href );

}

</script>

<form action="{{ url_for('create_task') }}" method="post">
	{% if message is defined and message %}
		<div class="alert alert-warning">{{ message }}</div>
	{% endif %}
	<div class="form-group">
		<label for="title">Title:</label>
		<input type="title" class="form-control" id="title" name="title" placeholder="Enter task title">
	</div>
	<div class="form-group">
		<label for="description">Description:</label>
		<input type="description" class="form-control" id="description" name="description" placeholder="Enter task desctiprion">
	</div>      
	<div class="form-group">
		<label for="due-date">Due Date:</label>
		<input type="datetime-local" class="form-control" id="due-date" name="due-date" placeholder="Enter due date">
	</div>
    <div class="form-group">
		<label for="task-type">Task Type:</label>
        <select name="task-type" method="GET" action="/">
            {% for t in task_types %}
                <option value="{{t.type}}" SELECTED>{{t.type}}</option>"
            {% endfor %}
        </select>
	</div>     
	<button type="submit" class="btn btn-primary">Create Task</button>
</form>
<br>
<table>
	<tr>
		{% for head in task_headers.values() %}
			<th>{{head}}</th>
		{% endfor %}
	</tr>

	{% for task in task_todo %}
		<tr>
			<td>
				<form action="/">
				<input type="checkbox" id="isDone" name="isDone" value="Done">
			  </form>
			</td>
			{% for key in task_headers.keys() %}
				<td>{{task[key]}}</td>
			{% endfor %}
			<td>
				<form action="{{ url_for('delete_task', task_id = task.id) }}" method="post">
				<button class="btn btn-primary">Delete</button>
			</td>
	  	</tr>
	{% endfor %}
	
  </table>





<form action="{{ url_for('register') }}" method="get">
<button class="btn btn-primary">Register</button>
</form>

